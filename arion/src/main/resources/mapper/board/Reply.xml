<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.arion.app.group.board.mapper.ReplyMapper">

<!-- 댓글 리스트 -->
<select id="selectReplyAll" parameterType="int" resultType="ReplyVO">
SELECT 
    c.board_no, 
    c.comment_no, 
    c.comment_content, 
    e.employee_name AS comment_write, 
    c.comment_date,
    e.rank_name AS rankName,
    e.department_name AS departmentName
FROM 
    comments c
JOIN 
    board b ON c.board_no = b.board_no
JOIN 
    employees e ON b.employee_no = e.employee_no
WHERE 
    c.board_no = #{boardNo}
</select>

<!-- 댓글 작성 -->
<insert id="Replyinsert" parameterType="ReplyVO">
        INSERT INTO comments 
    ( 
        comment_no, 
        comment_content, 
        comment_write, 
        comment_date, 
        board_no, 
        company_code
    )
    VALUES 
    ( 
        comm_seq.NEXTVAL, 
        #{replyVO.commentContent}, 
        #{replyVO.commentWrite},
        SYSDATE,
        #{boardVO.boardNo}, 
        #{replyVO.companyCode}
    );
</insert>
<insert id="">
INSERT INTO comments 
        ( 
            comment_no, 
            comment_content, 
            comment_write, 
            comment_date, 
            board_no, 
            company_code
        )
    VALUES 
        ( 
            comm_seq.NEXTVAL, 
            #{commentContent}, 
            #{commentWrite},
            sysDate,
            #{boardNo}, 
            #{companyCode}
        )
        
        </insert>

</mapper>